!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs/BehaviorSubject"),require("@ng-bootstrap/ng-bootstrap"),require("@angular/common")):"function"==typeof define&&define.amd?define(["exports","@angular/core","rxjs/BehaviorSubject","@ng-bootstrap/ng-bootstrap","@angular/common"],t):t((e.modal=e.modal||{},e.modal.manager={}),e.ng.core,e.BehaviorSubject,e.ngBootstrap,e.common)}(this,function(e,t,o,n,a){"use strict";var r=function(){function e(){this.modal={action:!1,component:null},this.modalManagerSubject=new o.BehaviorSubject(this.modalState())}return e.prototype.getModalListener=function(){return this.modalManagerSubject.asObservable()},e.prototype.showModal=function(e){e.action=!0,this.modalManagerSubject.next(e)},e.prototype.destroyModal=function(){this.modalManagerSubject.next({action:!1,component:null})},e.prototype.modalState=function(){return this.modal},e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[]},e}(),s=function(){function e(e,t){this.modalManagerService=e,this.modalService=t}return e.prototype.ngOnInit=function(){var e=this;this.subscription=this.modalManagerService.getModalListener().subscribe(function(t){t.action?(e.modalRef&&e.modalRef.dismiss("forcefully destroy by another modal"),e.open(t)):e.modalRef&&e.modalRef.dismiss("destroy forcefully")})},e.prototype.open=function(e){this.modalRef=this.modalService.open(e.component),this.modalRef.componentInstance.inputs=e.payload||{},this.modalRef.result.then(function(t){e.callback&&(t={state:!0,result:t},e.callback(t))},function(t){e.callback&&(t={state:!1,result:t},e.callback(t))})},e.prototype.getDismissReason=function(e){return e===n.ModalDismissReasons.ESC?"by pressing ESC":e===n.ModalDismissReasons.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+e},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.decorators=[{type:t.Component,args:[{selector:"app-modal-manager, [app-modal-manager]",template:""}]}],e.ctorParameters=function(){return[{type:r},{type:n.NgbModal}]},e}(),i=function(){function e(e){this.activeModal=e}return e.decorators=[{type:t.Component,args:[{selector:"app-alert-modal",templateUrl:"./alert-modal.component.html"}]}],e.ctorParameters=function(){return[{type:n.NgbActiveModal}]},e.propDecorators={inputs:[{type:t.Input}]},e}(),c=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[s,i],exports:[s,i],entryComponents:[i],imports:[a.CommonModule],providers:[r]}]}],e.ctorParameters=function(){return[]},e}();e.ModalsManagerComponent=s,e.ModalsManagerModule=c,e.ModalsManagerService=r,e.AlertModal=i,Object.defineProperty(e,"__esModule",{value:!0})});