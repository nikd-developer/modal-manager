!function(e,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports,require("@angular/core"),require("rxjs/BehaviorSubject"),require("@ng-bootstrap/ng-bootstrap"),require("@angular/common")):"function"==typeof define&&define.amd?define(["exports","@angular/core","rxjs/BehaviorSubject","@ng-bootstrap/ng-bootstrap","@angular/common"],o):o((e.modal=e.modal||{},e.modal.manager={}),e.ng.core,e.BehaviorSubject,e.ngBootstrap,e.common)}(this,function(e,o,t,n,a){"use strict";var r=function(){function e(){this.modal={action:!1,component:null},this.modalManagerSubject=new t.BehaviorSubject(this.modalState())}return e.prototype.getModalListener=function(){return this.modalManagerSubject.asObservable()},e.prototype.showModal=function(e){e.action=!0,this.modalManagerSubject.next(e)},e.prototype.destroyModal=function(){this.modalManagerSubject.next({action:!1,component:null})},e.prototype.modalState=function(){return this.modal},e.decorators=[{type:o.Injectable}],e.ctorParameters=function(){return[]},e}(),s=function(){function e(e,o){this.modalManagerService=e,this.modalService=o}return e.prototype.ngOnInit=function(){var e=this;this.subscription=this.modalManagerService.getModalListener().subscribe(function(o){o.action?(e.modalRef&&e.modalRef.dismiss("forcefully destroy by another modal"),e.open(o)):e.modalRef&&e.modalRef.dismiss("destroy forcefully")})},e.prototype.open=function(e){this.modalRef=this.modalService.open(e.component),this.modalRef.componentInstance.inputs=e.payload||{},this.modalRef.result.then(function(o){e.callback&&(o={state:!0,result:o},e.callback(o))},function(o){e.callback&&(o={state:!1,result:o},e.callback(o))})},e.prototype.getDismissReason=function(e){return e===n.ModalDismissReasons.ESC?"by pressing ESC":e===n.ModalDismissReasons.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+e},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.decorators=[{type:o.Component,args:[{selector:"app-modal-manager, [app-modal-manager]",template:""}]}],e.ctorParameters=function(){return[{type:r},{type:n.NgbModal}]},e}(),i=function(){function e(){}return e.decorators=[{type:o.NgModule,args:[{declarations:[s],exports:[s],imports:[a.CommonModule],providers:[r]}]}],e.ctorParameters=function(){return[]},e}();e.ModalsManagerComponent=s,e.ModalsManagerModule=i,e.ModalsManagerService=r,Object.defineProperty(e,"__esModule",{value:!0})});