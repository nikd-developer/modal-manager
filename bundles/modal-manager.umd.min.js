!function(o,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs/BehaviorSubject"),require("@ng-bootstrap/ng-bootstrap"),require("@angular/common")):"function"==typeof define&&define.amd?define(["exports","@angular/core","rxjs/BehaviorSubject","@ng-bootstrap/ng-bootstrap","@angular/common"],e):e((o.modal=o.modal||{},o.modal.manager={}),o.ng.core,o.BehaviorSubject,o.ngBootstrap,o.common)}(this,function(o,e,t,n,a){"use strict";var r=function(){function o(){this.modal={action:!1,component:null},this.modalManagerSubject=new t.BehaviorSubject(this.modalState())}return o.prototype.getModalListener=function(){return this.modalManagerSubject.asObservable()},o.prototype.showModal=function(o){o.action=!0,this.modalManagerSubject.next(o)},o.prototype.destroyModal=function(){this.modalManagerSubject.next({action:!1,component:null})},o.prototype.modalState=function(){return this.modal},o.decorators=[{type:e.Injectable}],o.ctorParameters=function(){return[]},o}(),s=function(){function o(o,e){this.modalManagerService=o,this.modalService=e}return o.prototype.ngOnInit=function(){var o=this;this.subscription=this.modalManagerService.getModalListener().subscribe(function(e){e.action?(o.modalRef&&o.modalRef.dismiss("forcefully destroy by another modal"),o.open(e)):o.modalRef&&o.modalRef.dismiss("destroy forcefully")})},o.prototype.open=function(o){this.modalRef=this.modalService.open(o.component),this.modalRef.componentInstance.inputs=o.payload||{},this.modalRef.result.then(function(e){o.callback&&(e={state:!0,result:e},o.callback(e))},function(e){o.callback&&(e={state:!1,result:e},o.callback(e))})},o.prototype.getDismissReason=function(o){return o===n.ModalDismissReasons.ESC?"by pressing ESC":o===n.ModalDismissReasons.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+o},o.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},o.decorators=[{type:e.Component,args:[{selector:"app-modal-manager, [app-modal-manager]",template:""}]}],o.ctorParameters=function(){return[{type:r},{type:n.NgbModal}]},o}(),i=function(){function o(){}return o.forRoot=function(){return{ngModule:o,providers:[r]}},o.decorators=[{type:e.NgModule,args:[{declarations:[s],exports:[s],imports:[a.CommonModule]}]}],o.ctorParameters=function(){return[]},o}();o.ModalsManagerComponent=s,o.ModalsManagerModule=i,o.ModalsManagerService=r,Object.defineProperty(o,"__esModule",{value:!0})});